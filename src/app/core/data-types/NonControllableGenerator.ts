/**
 * An asset that represents every generator of electricity where electricity generation cannot easily be changed by the asset operator,
 * but is (pre-)determined by other factors (e.g. weather).
 * Thus, this asset is not dispatchable and thus not hierarchically situated.
 *
 * @params model: A string describing the model name of the asset
 * @params peakPower The maximal power the asset can generate under optimal conditions
 */


export class NonControllableGenerator {

  public projectedGeneration: number[];

  constructor(
    readonly model: string,
    readonly peakPower: number
  ) {}

  public initiateProjectedGeneration(experimentLength: number) {
    // this.projectedGeneration = Array.from({length: experimentLength + 1}, () => 0);
    // for (let i = 0; i < 10; i++) {
    //  console.log(this.throwCoin());
    // }
    // TODO read in more reasonable data
    this.projectedGeneration = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
      0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 6.6, 9.9,
      8.6, 8.0, 8.1, 3.9, 5.8, 6.8, 0.4, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
      0.0, 0.0, 6.1, 9.2, 5.5, 8.1, 7.3, 8.2, 7.7, 6.6, 2.8, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
      0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.1, 9.6, 5.9, 6.1, 7.5, 4.9, 8.5, 7.1, 3.4, 0.0, 0.0, 0.0, 0.0, 0.0,
      0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.2, 7.6, 9.0, 8.6, 8.4, 9.0, 9.5, 7.5, 3.7, 0.0,
      0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
  }

  public initializeWeekWithMaxGen(maxGen: number) {
    this.projectedGeneration = [0, 0, 0, 0, 0, 0, 0, 0, 0.00559108105393552, 0.0206233887977502, 0.0887542267903177,
      0.111654223442365, 0.0838662158090328, 0.0339817201781111, 0.0362248485051391, 0.0298302587967458,
      0.00197529210887542, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0136596471257826, 0.0626736750477083,
      0.106330978606582, 0.140145301148348, 0.147443838093006, 0.101744283370719, 0.0564799625029295, 0.0129230975258629,
      0.0004017543272289, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00944122668987914, 0.0444942917406006,
      0.103485218788711, 0.189125849543004, 0.214737687903847, 0.209983595031638, 0.146673808965817, 0.0594931199571462,
      0.00311359603602397, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00408450232682715, 0.0257792359971877,
      0.0724162174830091, 0.192607720378988, 0.195687836887743, 0.174227459908266, 0.113026884060397, 0.0580200207573069,
      0.00311359603602397, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0017409354179919, 0.00820248418092337,
      0.0224647627975493, 0.0484783554856205, 0.0363922461414845, 0.0330777729418461, 0.033479527269075, 0.00659546687200777,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00703070072650574, 0.0400415146138137, 0.101175131407145,
      0.112089457296863, 0.148213867220195, 0.184606113361679, 0.133248518530918, 0.0575513073755399, 0.004017543272289,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00947470621714821, 0.0320399075965047, 0.0282567210150993,
      0.0399745555592755, 0.067896481301684, 0.0514245538852991, 0.0250426863972681, 0.0159027754528106, 0.00140614014530115,
      0, 0, 0, 0, 0, 0, 0, 0]; // winter
    /* this.projectedGeneration = [0, 0, 0, 0, 0.00927382905353376, 0.0662894639927684, 0.149686966420034, 0.244199671900633,
      0.397000234356691, 0.542067026013593, 0.592453714553551, 0.592453714553551, 0.592453714553551, 0.592453714553551,
      0.523385449797449, 0.306170276875691, 0.20305333288694, 0.104757440824936, 0.0394054035957012, 0.0137935652348589,
      0.000100438581807225, 0, 0, 0, 0, 0, 0, 0, 0.000870467708995949, 0.00532324483578292, 0.0176102313435334,
      0.0569151963574274, 0.184873949579832, 0.375372459740868, 0.419565435736047, 0.592453714553551, 0.592453714553551,
      0.54903076768556, 0.360340151997054, 0.364491613378419, 0.288258729786735, 0.131507583112926, 0.0737553985737721,
      0.0209247045431719, 0.000502192909036124, 0, 0, 0, 0, 0, 0, 0, 0.00873815661722856, 0.0546720680303994, 0.128293548495095,
      0.212260202885935, 0.301617061167096, 0.353275971743279, 0.442666309551709, 0.592453714553551, 0.592453714553551,
      0.592453714553551, 0.445143794569621, 0.317084602765409, 0.298302587967458, 0.151695738056179, 0.0807191402457397,
      0.0257122769426496, 0.000669590545381499, 0, 0, 0, 0, 0, 0, 0, 0.00830292276273059, 0.0582878569754595, 0.141685359402725,
      0.232783153101878, 0.387559007666812, 0.538350798486725, 0.454384144095885, 0.506110013726606, 0.570457665137768,
      0.464294084167532, 0.431618065552914, 0.387391610030466, 0.288225250259466, 0.162241789145937, 0.0825270347182698,
      0.0267501422879909, 0.000669590545381499, 0, 0, 0, 0, 0, 0, 0, 0.00820248418092337, 0.058522213666343, 0.124242525695537,
      0.212661957213164, 0.373832401486491, 0.476246275402591, 0.53781512605042, 0.592453714553551, 0.592453714553551,
      0.592453714553551, 0.592453714553551, 0.500753289363554, 0.36881047239613, 0.193511667615253, 0.0873146071177475,
      0.0258127155244568, 0.000569151963574274, 0, 0, 0, 0, 0, 0, 0, 0.00783420938096354, 0.0620040845023268, 0.14332585623891,
      0.234490608992601, 0.382604037630989, 0.512236767216847, 0.592453714553551, 0.592453714553551, 0.592453714553551,
      0.592453714553551, 0.592453714553551, 0.486491010746928, 0.35612173156115, 0.200475409287221, 0.0943453078442532,
      0.0253105226154207, 0.000669590545381499, 0, 0, 0, 0, 0, 0, 0, 0.00753289363554187, 0.0587900498844956, 0.127188724095216,
      0.19398038099702, 0.311426562656935, 0.428002276607854, 0.546921557467609, 0.592453714553551, 0.592453714553551,
      0.592453714553551, 0.592453714553551, 0.480129900565804, 0.350865445779906, 0.183199973216378, 0.0986306873346948,
      0.0303324517057819, 0.000669590545381499, 0, 0, 0, 0]; // summer */
    /* this.projectedGeneration = [0, 0, 0, 0, 0, 0, 0.0376309886504403, 0.155411965583046, 0.280257122769426, 0.35431383708862,
      0.484883993438013, 0.55083866215809, 0.592453714553551, 0.457966453513676, 0.400113830392715, 0.357460912651913,
      0.222371020121196, 0.106498376242927, 0.00890555425357394, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000100438581807225,
      0.0385349358867053, 0.158759918309953, 0.283102882587298, 0.401118216210787, 0.527469952124276, 0.592453714553551,
      0.592453714553551, 0.590444942917406, 0.486557969801466, 0.347785329271151, 0.226790317720714, 0.105025277043088,
      0.00957514479895544, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000368274799959825, 0.0408115437410024, 0.162007432455054,
      0.287790016404968, 0.405570993337574, 0.517158257725401, 0.560547725066122, 0.532726237905521, 0.513609427834879,
      0.401285613847132, 0.294586360440591, 0.211423214704208, 0.087113729954133, 0.00937426763534099, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0.000502192909036124, 0.0243730958518866, 0.0918678228263417, 0.26529177408015, 0.376276406977133, 0.435635608825203,
      0.570323747028692, 0.51538384278014, 0.255348354481235, 0.197562690414811, 0.195520439251398, 0.135759483076099,
      0.0534668050487127, 0.00776725032642539, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.000569151963574274, 0.0237369848337741,
      0.0976932605711607, 0.130603635876661, 0.207305232850112, 0.211021460376979, 0.184103920452643, 0.216043389467341,
      0.217181693394489, 0.128393987076902, 0.0726840537011617, 0.0517593491579899, 0.0245404934882319, 0.00210921021795172,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.00716461883558204, 0.0154005825437745, 0.0336469249054203, 0.0467039405403596,
      0.0734206033010814, 0.134554220094412, 0.132043255549232, 0.131038869731159, 0.117144865914493, 0.114868258060196,
      0.0797147544276675, 0.0297298202149386, 0.00502192909036124, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.0014730991998393,
      0.0479761625765844, 0.152800562456058, 0.24537145535505, 0.293682413204326, 0.183568248016338, 0.12089457296863,
      0.198868391978305, 0.378720412467776, 0.352539422143359, 0.272724229133885, 0.181258160634772, 0.107603200642807,
      0.0141283605075496, 0, 0, 0, 0, 0, 0]; // transition times? */
    for (let generation of this.projectedGeneration) {
      generation = generation * maxGen;
    }
  }
}
